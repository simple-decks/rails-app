#= require_self
#= require_tree ./controllers

@sd_app = angular.module("SimpleDecks", ["ngResource", "ngRoute"])

# Sets up routing
@sd_app.config(['$routeProvider', ($routeProvider) ->
  
  # Route for 'edit presentation'
  $routeProvider.when('/:url_token/:url_title/edit', { templateUrl: '/EditPresentation.html', controller: 'EditPresentationCtrl' } )

  # Default
  $routeProvider.otherwise({ templateUrl: '/AnonymousHome.html', controller: 'AnonymousSlideCtrl' } )

])


@sd_app.factory "Presentation", ["$resource", ($resource) ->
  $resource("/presentations/:url_token", {id: "@url_token", format: 'json'})
]